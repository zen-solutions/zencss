<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Responsive Image Gallery with Pagination</title>
    <link rel="stylesheet" href="../../css/zen.css">
    <script src="../../js/zencss.js"></script>
    <style>
        /* Image Gallery Styles */
        .image-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            grid-gap: 10px;
        }

        .image-gallery img {
            width: 100%;
            height: auto;
            cursor: pointer;
            border-radius: 8px;    /*$border-radius when implementing*/
        }

        /* Pagination Styles */
        .pagination-nav {
            text-align: center;
            padding: 20px;
        }

        .pagination-nav .item {
            margin: 0 5px;
            cursor: pointer;
        }

        .pagination-nav .current {
            font-weight: bold;
        }

        .modal-body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow-y: auto;
            max-height: 80vh;
    
        }

        .modal-body img {
            max-width: 100%;
            max-height: 60vh;
            object-fit: contain;
            margin-bottom: 10px;
        }

        .modal-body p {
            text-align: center;
            margin-top: 0;        }
    </style>
</head>

<body class="zen">
    <!-- Image Gallery -->
    <div class="image-gallery">
        <!-- page 1 -->
        <img src="../../img/placeholder/SimonBerger.png" alt="Photo: Simon Berger" data-text="Photo: Simon Berger">
        <img src="../../img/placeholder/16x9/AliKazal.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/16x9/MaevaVigier.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/16x9/neom.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/16x9/tonyhughes.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/16x9/neom2.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/scottwebb.png" alt="Photo: Scott Webb" data-text="Photo: Scott Webb">
        <img src="../../img/placeholder/16x9/masahiro-miyagi.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/16x9/daniel-schwartz.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/16x9/lerone-pieters.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/16x9/adrian-korte.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/16x9/nathan-cima.jpg" data-text="photo description here"> alt="">

        <!-- page 2 -->
        <img src="../../img/placeholder/SimonBerger.png" alt="Photo: Simon Berger" data-text="Photo: Simon Berger">
        <img src="../../img/placeholder/16x9/AliKazal.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/16x9/masahiro-miyagi.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/16x9/daniel-schwartz.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/16x9/lerone-pieters.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/16x9/adrian-korte.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/16x9/nathan-cima.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/16x9/MaevaVigier.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/16x9/neom.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/scottwebb.png" alt="Photo: Scott Webb" data-text="Photo: Scott Webb">
        <img src="../../img/placeholder/16x9/tonyhughes.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/16x9/neom2.jpg" data-text="photo description here"> alt="">

        <!-- page 3 -->
        <img src="../../img/placeholder/16x9/daniel-schwartz.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/16x9/lerone-pieters.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/scottwebb.png" alt="Photo: Scott Webb" data-text="Photo: Scott Webb">
        <img src="../../img/placeholder/16x9/adrian-korte.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/16x9/nathan-cima.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/16x9/MaevaVigier.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/16x9/neom.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/SimonBerger.png" alt="Photo: Simon Berger" data-text="Photo: Simon Berger">
        <img src="../../img/placeholder/16x9/AliKazal.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/16x9/masahiro-miyagi.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/16x9/tonyhughes.jpg" data-text="photo description here"> alt="">
        <img src="../../img/placeholder/16x9/neom2.jpg" data-text="photo description here"> alt="">
        <!-- Add more images here -->
    </div>

    <!-- Pagination -->
    <div class="pagination-nav">
        <a href="#" class="item" data-page="prev">Previous</a>
        <!-- Page numbers will be generated by JavaScript -->
        <a href="#" class="item" data-page="next">Next</a>
    </div>

    <!-- Modal -->
    <z-modal>
        <h3 slot="title">Image Preview</h3>
        <div class="modal-body">
            <img src="" id="modal-image">
            <p id="modal-description"></p>
        </div>
        <button slot="footer" class="modal-close">Close</button>
    </z-modal>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const gallery = document.querySelector('.image-gallery');
            const modal = document.querySelector('z-modal');
            const paginationNav = document.querySelector('.pagination-nav');
            let currentPage = 1;
            const imagesPerPage = 12;

            // Extract image data from the HTML elements
            const images = Array.from(gallery.children).map(img => ({
                src: img.src,
                text: img.getAttribute('data-text') 
            }));

            const totalPages = Math.ceil(images.length / imagesPerPage);

            // Create and style image and text elements for the modal
            function openModal(src, text) {
                const modalImage = document.createElement('img');
                modalImage.src = src;
                modalImage.style.maxWidth = '100%';
                modalImage.style.maxHeight = '60vh'; // Adjusted to leave space for text
                modalImage.style.borderRadius = '8px'; 
                modalImage.style.objectFit = 'contain';
                modalImage.style.marginBottom = '10px'; 

                const modalText = document.createElement('p');
                modalText.textContent = text;
                modalText.style.textAlign = 'center';
                modalText.style.marginTop = '0'; 

                // Clear and update modal body
                const modalBody = modal.shadowRoot.querySelector('.modal-body');
                modalBody.innerHTML = '';
                modalBody.style.overflowY = 'auto'; // Enable scroll only if necessary
                modalBody.appendChild(modalImage);
                modalBody.appendChild(modalText);

                // Increase the size for bigger screens
                modalBody.style.maxHeight = '80vh'; // Increased to allow more content

                const modalWrapper = modal.shadowRoot.querySelector('.modal-wrapper');
                if (modalWrapper) {
                    modalWrapper.style.maxWidth = '50%'; 
                }

                // Hide the modal header
                const modalHeader = modal.shadowRoot.querySelector('.modal-header');
                if (modalHeader) {
                    modalHeader.style.display = 'none';
                }

                // Open the modal
                modal.open();
            }

            function loadImagesForPage(pageNumber) {
                gallery.innerHTML = '';
                const startIndex = (pageNumber - 1) * imagesPerPage;
                const endIndex = Math.min(startIndex + imagesPerPage, images.length);
                const pageImages = images.slice(startIndex, endIndex);

                pageImages.forEach(imageObj => {
                    const imgElement = document.createElement('img');
                    imgElement.src = imageObj.src;
                    imgElement.alt = 'Gallery Image';
                    imgElement.setAttribute('data-text', imageObj.text);
                    imgElement.onclick = () => openModal(imageObj.src, imageObj.text);
                    gallery.appendChild(imgElement);
                });
            }

            function updatePaginationNav() {
                paginationNav.innerHTML = '<a href="#" class="item" data-page="prev">Previous</a>';
                for (let i = 1; i <= totalPages; i++) {
                    const classCurrent = i === currentPage ? 'current' : '';
                    paginationNav.innerHTML += `<a href="#" class="item ${classCurrent}" data-page="${i}">${i}</a>`;
                }
                paginationNav.innerHTML += '<a href="#" class="item" data-page="next">Next</a>';
            }

            paginationNav.addEventListener('click', function (event) {
                const target = event.target;
                if (target.tagName === 'A' && target.dataset.page) {
                    if (target.dataset.page === 'prev') {
                        currentPage = Math.max(1, currentPage - 1);
                    } else if (target.dataset.page === 'next') {
                        currentPage = Math.min(totalPages, currentPage + 1);
                    } else {
                        currentPage = parseInt(target.dataset.page);
                    }
                    loadImagesForPage(currentPage);
                    updatePaginationNav();
                }
            });

            updatePaginationNav();
            loadImagesForPage(currentPage);
        });
    </script>
</body>

</html>